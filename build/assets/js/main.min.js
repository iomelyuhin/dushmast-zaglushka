"use strict";document.addEventListener("DOMContentLoaded",(function(){
//!================================================================
//!===================закрывание/открывание меню===================
//!================================================================
var e=document.querySelector(".header__main-menu-item-link--submenu"),t=document.querySelector(".submenu"),s=e.parentNode,r=document.querySelector(".langs__btn"),a=document.querySelector(".langs__list"),n=r.parentNode;function c(e,t,s){e.addEventListener("click",(function(r){r.preventDefault(),t.classList.contains("active")?o(t):(t.classList.add("active"),function(e,t,s){document.addEventListener("click",(function(r){r.target!=e&&r.target!=t&&o(s)}))}//!==========================================
//!=========запускаем функции меню===========
//!==========================================
(e,s,t))}))}function o(e){e.classList.remove("active")}c(e,s,t),c(r,n,a);//!==========================================================================
//!===================закрывание/открывание гамбургер-меню===================
//!==========================================================================
var l=document.querySelector(".hamburger"),i=document.querySelector(".header__navigation"),d=document.querySelector("body");l.addEventListener("click",(function(e){e.preventDefault(),i.classList.contains("active")?(i.classList.remove("active"),l.classList.remove("is-active"),d.style.overflow="initial"):(d.style.overflow="hidden",i.classList.add("active"),l.classList.add("is-active"))}));//!==========================================================================
//!===================закрывание/открывание формы============================
//!==========================================================================
var u=document.querySelector(".form__wrap"),m=document.querySelectorAll(".openFormBtn"),v=document.querySelector(".form__close");function L(){u.classList.remove("active")}m.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),u.classList.contains("active")?u.classList.remove("active"):u.classList.add("active")}))})),v.addEventListener("click",(function(e){e.preventDefault(),L()}));//!==========================================================================
//!===================отправка формы на сервер===============================
//!==========================================================================
var f=document.querySelector(".form"),p=document.querySelector(".form__send-button-btn"),_=document.querySelector(".form__label--name"),q=document.querySelector(".form__label--email"),y=document.querySelector(".form__label--message"),b=new FormData,S=new XMLHttpRequest;S.responseType="json",S.open("POST","/send.php"),S.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.addEventListener("click",(function(e){e.preventDefault(),_.classList.remove("error"),q.classList.remove("error"),y.classList.remove("error");var t=f.elements.name.value,s=f.elements.email.value,r=f.elements.message.value;""==t?_.classList.add("error"):""==s||-1==s.indexOf("@")||-1==s.indexOf(".")?q.classList.add("error"):""==r?y.classList.add("error"):(_.classList.remove("error"),q.classList.remove("error"),y.classList.remove("error"),b.append("name",t),b.append("email",s),b.append("message",r),S.send(b))})),S.addEventListener("load",(function(){if(p.classList.add("blocked"),p.disabled=!0,S.status>=400)document.querySelector(".form__send-button").classList.add("error"),p.classList.remove("blocked"),p.disabled=!1;else{var e=f.elements.name,t=f.elements.email,s=f.elements.message;p.classList.remove("blocked"),p.disabled=!1,e.value="",t.value="",s.value="",L()}}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic3VibWVudUJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJzdWJtZW51TGlzdCIsImN1ckxpc3QiLCJwYXJlbnROb2RlIiwibGFuZ0J0biIsImxhbmdTdWJtZW51TGlzdCIsImxhbmdMaXN0Iiwib3Blbk1lbnUiLCJidG4iLCJsaXN0Iiwic3VibGlzdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2xvc2VTdWJtZW51IiwiYWRkIiwidGFyZ2V0IiwibGlzdGVuQ2xpY2siLCJyZW1vdmUiLCJidXJnZXIiLCJtYWluTWVudSIsImJvZHkiLCJzdHlsZSIsIm92ZXJmbG93IiwiZm9ybVdyYXAiLCJvcGVuRm9ybUJ0biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbG9zZUZvcm1CdG4iLCJjbG9zZUZvcm0iLCJmb3JFYWNoIiwiaXRlbSIsIm15Rm9ybSIsInNlbmRCdG4iLCJuYW1lTGFiZWwiLCJlbWFpbExhYmVsIiwibWVzc2FnZUxhYmVsIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJuYW1lVmFsdWUiLCJlbGVtZW50cyIsIm5hbWUiLCJ2YWx1ZSIsImVtYWlsVmFsdWUiLCJlbWFpbCIsIm1lc3NhZ2VWYWx1ZSIsIm1lc3NhZ2UiLCJpbmRleE9mIiwiYXBwZW5kIiwic2VuZCIsImRpc2FibGVkIiwic3RhdHVzIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUFBQSxTQUFTQyxpQkFBVCxvQkFBOEM7Ozs7QUFRNUMsSUFBTUMsRUFBYUYsU0FBU0csY0FDMUIseUNBRUlDLEVBQWNKLFNBQVNHLGNBQWMsWUFDckNFLEVBQVVILEVBQVdJLFdBS3JCQyxFQUFVUCxTQUFTRyxjQUFjLGVBQ2pDSyxFQUFrQlIsU0FBU0csY0FBYyxnQkFDekNNLEVBQVdG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aUJBQWlCLFFBQVEsV0FNM0IsR0FIRm1DLEVBQVFwQixVQUFVRyxJQUFJLFdBQ3RCaUIsRUFBUXNCLFVBQVcsRUFFYmhCLEVBQUlpQixRQUFVLElBRW5CM0QsU0FBU0csY0FBYyxzQkFBc0JhLFVBQVVHLElBQUksU0FDM0RpQixFQUFRcEIsVUFBVU0sT0FBTyxXQUN6QmMsRUFBUXNCLFVBQVcsTUFDWCxDQUNSLElBQUlYLEVBQVlaLEVBQU9hLFNBQVNDLEtBQzVCRSxFQUFhaEIsRUFBT2EsU0FBU0ksTUFDN0JDLEVBQWVsQixFQUFPYSxTQUFTTSxRQUNuQ2xCLEVBQVFwQixVQUFVTSxPQUFPLFdBQ3pCYyxFQUFRc0IsVUFBVyxFQUNuQlgsRUFBVUcsTUFBUSxHQUNsQkMsRUFBV0QsTUFBUSxHQUNuQkcsRUFBYUgsTUFBUSxHQUNyQmxCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgZnVuY3Rpb24gKCkge1xyXG4gIC8vIT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyE9PT09PT09PT09PT09PT09PT090LfQsNC60YDRi9Cy0LDQvdC40LUv0L7RgtC60YDRi9Cy0LDQvdC40LUg0LzQtdC90Y49PT09PT09PT09PT09PT09PT09XHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvLz89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vPz09PT090L/QtdGA0LXQvNC10L3QvdGL0LUg0LTQu9GPINC/0L7QtNC80LXQvdGOIGluZm89PT09PT09PT1cclxuICAvLz89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGNvbnN0IHN1Ym1lbnVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgXCIuaGVhZGVyX19tYWluLW1lbnUtaXRlbS1saW5rLS1zdWJtZW51XCJcclxuICApO1xyXG4gIGNvbnN0IHN1Ym1lbnVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtZW51XCIpO1xyXG4gIGNvbnN0IGN1ckxpc3QgPSBzdWJtZW51QnRuLnBhcmVudE5vZGU7XHJcblxyXG4gIC8vPz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLz89PT09PdC/0LXRgNC10LzQtdC90L3Ri9C1INC00LvRjyDQvNC10L3RjiDRj9C30YvQutC+0LI9PT09PT09PT1cclxuICAvLz89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgY29uc3QgbGFuZ0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGFuZ3NfX2J0blwiKTtcclxuICBjb25zdCBsYW5nU3VibWVudUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxhbmdzX19saXN0XCIpO1xyXG4gIGNvbnN0IGxhbmdMaXN0ID0gbGFuZ0J0bi5wYXJlbnROb2RlO1xyXG5cclxuICAvLz89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLz89PT09PdGE0YPQvdC60YbQuNGPIFwi0L7RgtC60YDRi9GC0Ywg0LzQtdC90Y5cIj09PT09PT09PVxyXG4gIC8vPz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIGZ1bmN0aW9uIG9wZW5NZW51KGJ0biwgbGlzdCwgc3VibGlzdCkge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAoIWxpc3QuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGxpc3RlbkNsaWNrKGJ0biwgc3VibGlzdCwgbGlzdCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xvc2VTdWJtZW51KGxpc3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vPz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vPz09PT090YTRg9C90LrRhtC40Y8gXCLQt9Cw0LrRgNGL0YLRjCDQvNC10L3RjlwiPT09PT09PT09XHJcbiAgLy8/PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgZnVuY3Rpb24gY2xvc2VTdWJtZW51KGxpc3QpIHtcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIC8vPz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vPz09PT090YTRg9C90LrRhtC40Y8gXCLQt9Cw0LrRgNGL0YLRjCDQvNC10L3RjiDQv9C+INC60LvQuNC60YMg0LLQvdC1INC80LXQvdGOXCI9PT09PT09PT1cclxuICAvLz89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBmdW5jdGlvbiBsaXN0ZW5DbGljayhidG4sIHN1Ymxpc3QsIGxpc3QpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoZS50YXJnZXQgIT0gYnRuICYmIGUudGFyZ2V0ICE9IHN1Ymxpc3QpIHtcclxuICAgICAgICBjbG9zZVN1Ym1lbnUobGlzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8hPT09PT09PT090LfQsNC/0YPRgdC60LDQtdC8INGE0YPQvdC60YbQuNC4INC80LXQvdGOPT09PT09PT09PT1cclxuICAvLyE9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICBvcGVuTWVudShzdWJtZW51QnRuLCBjdXJMaXN0LCBzdWJtZW51TGlzdCk7XHJcbiAgb3Blbk1lbnUobGFuZ0J0biwgbGFuZ0xpc3QsIGxhbmdTdWJtZW51TGlzdCk7XHJcblxyXG4gIC8vIT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PdC30LDQutGA0YvQstCw0L3QuNC1L9C+0YLQutGA0YvQstCw0L3QuNC1INCz0LDQvNCx0YPRgNCz0LXRgC3QvNC10L3Rjj09PT09PT09PT09PT09PT09PT1cclxuICAvLyE9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICBjb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuICBjb25zdCBtYWluTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19uYXZpZ2F0aW9uXCIpO1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcclxuXHJcbiAgZnVuY3Rpb24gb3BlbkJ1cmdlck1lbnUoKSB7XHJcbiAgICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIGlmIChtYWluTWVudS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICBtYWluTWVudS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImluaXRpYWxcIjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICBtYWluTWVudS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9wZW5CdXJnZXJNZW51KCk7XHJcblxyXG4gIC8vIT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PdC30LDQutGA0YvQstCw0L3QuNC1L9C+0YLQutGA0YvQstCw0L3QuNC1INGE0L7RgNC80Ys9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgY29uc3QgZm9ybVdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3dyYXBcIik7XHJcbiAgY29uc3Qgb3BlbkZvcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm9wZW5Gb3JtQnRuXCIpO1xyXG4gIGNvbnN0IGNsb3NlRm9ybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fY2xvc2VcIik7XHJcblxyXG4gIGZ1bmN0aW9uIG9wZW5Gb3JtKCkge1xyXG4gICAgb3BlbkZvcm1CdG4uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoIWZvcm1XcmFwLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgZm9ybVdyYXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm9ybVdyYXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIG9wZW5Gb3JtKCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNsb3NlRm9ybSgpIHtcclxuICAgIGZvcm1XcmFwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZUZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjbG9zZUZvcm0oKTtcclxuICB9KTtcclxuXHJcbiAgLy8hPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyE9PT09PT09PT09PT09PT09PT090L7RgtC/0YDQsNCy0LrQsCDRhNC+0YDQvNGLINC90LAg0YHQtdGA0LLQtdGAPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vIT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0Y29uc3QgbXlGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5cdGxldCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zZW5kLWJ1dHRvbi1idG5cIilcclxuXHRjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2xhYmVsLS1uYW1lXCIpXHJcblx0Y29uc3QgZW1haWxMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fbGFiZWwtLWVtYWlsXCIpXHJcblx0Y29uc3QgbWVzc2FnZUxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19sYWJlbC0tbWVzc2FnZVwiKVxyXG4gIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOyAvLyDRgtC+LCDRh9GC0L4g0L3Rg9C20L3QviDQv9C10YDQtdC00LDRgtGMXHJcbiAgbGV0IHVybCA9IFwiL3NlbmQucGhwXCI7IC8v0L/QvtC00YHRgtCw0LLQuNGC0YwgVVJMXHJcblxyXG4gIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gIHhoci5yZXNwb25zZVR5cGUgPSBcImpzb25cIjsgLy8g0YLQuNC/INC00LDQvdC90YvRhVxyXG4gIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwpOyAvLyDQutCw0LrQuNC8INC80LXRgtC+0LTQvtC8INC+0YLQv9GA0LDQstC40YLRjFxyXG5cdHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLCBcIlhNTEh0dHBSZXF1ZXN0XCIpOyAvLyDQt9Cw0LPQvtC70L7QstC+0LpcclxuXHRcclxuXHRzZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG5hbWVMYWJlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIilcclxuXHRcdGVtYWlsTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpXHJcblx0XHRtZXNzYWdlTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpXHJcblx0XHRsZXQgbmFtZVZhbHVlID0gbXlGb3JtLmVsZW1lbnRzLm5hbWUudmFsdWVcclxuXHRcdGxldCBlbWFpbFZhbHVlID0gbXlGb3JtLmVsZW1lbnRzLmVtYWlsLnZhbHVlXHJcblx0XHRsZXQgbWVzc2FnZVZhbHVlID0gbXlGb3JtLmVsZW1lbnRzLm1lc3NhZ2UudmFsdWVcclxuXHRcdC8vIHZhbGlkKClcclxuXHRcdGlmIChuYW1lVmFsdWUgPT0gXCJcIikge1xyXG5cdFx0XHRuYW1lTGFiZWwuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpXHJcblx0XHRcdFxyXG5cdFx0fSBlbHNlIGlmIChlbWFpbFZhbHVlID09IFwiXCIgfHwgZW1haWxWYWx1ZS5pbmRleE9mKFwiQFwiKSA9PSAtMSB8fCBlbWFpbFZhbHVlLmluZGV4T2YoXCIuXCIpID09IC0xKSB7XHJcblx0XHRcdGVtYWlsTGFiZWwuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpXHJcblxyXG5cdFx0fSBlbHNlIGlmIChtZXNzYWdlVmFsdWUgPT0gXCJcIikge1xyXG5cdFx0XHRtZXNzYWdlTGFiZWwuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpXHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bmFtZUxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKVxyXG5cdFx0XHRlbWFpbExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKVxyXG5cdFx0XHRtZXNzYWdlTGFiZWwuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpXHJcblx0XHRcdFxyXG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJuYW1lXCIsIG5hbWVWYWx1ZSk7XHJcblx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImVtYWlsXCIsIGVtYWlsVmFsdWUpO1xyXG5cdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJtZXNzYWdlXCIsIG1lc3NhZ2VWYWx1ZSk7XHJcblx0XHRcdHhoci5zZW5kKGZvcm1EYXRhKTsgLy8g0YLQviwg0YfRgtC+INGF0L7RgtC40Lwg0L7RgtC/0YDQsNCy0LjRgtGMXHJcblx0XHR9XHJcblx0fSlcclxuICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHJcbiAgICAvLyDQv9C+0LrQsCDQs9GA0YPQt9C40YLRgdGPINC30LDQv9GA0L7RgVxyXG5cdFx0c2VuZEJ0bi5jbGFzc0xpc3QuYWRkKFwiYmxvY2tlZFwiKVxyXG5cdFx0c2VuZEJ0bi5kaXNhYmxlZCA9IHRydWVcclxuXHRcdFxyXG4gICAgaWYgKHhoci5zdGF0dXMgPj0gNDAwKSB7XHJcbiAgICAgIC8vINC+0LHRgNCw0LHQvtGC0LrQsCDQv9C+INGB0YLQsNGC0YPRgdGDXHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc2VuZC1idXR0b25cIikuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpXHJcblx0XHRcdHNlbmRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImJsb2NrZWRcIilcclxuXHRcdFx0c2VuZEJ0bi5kaXNhYmxlZCA9IGZhbHNlXHJcbiAgICB9IGVsc2Uge1xyXG5cdFx0XHRsZXQgbmFtZVZhbHVlID0gbXlGb3JtLmVsZW1lbnRzLm5hbWVcclxuXHRcdFx0bGV0IGVtYWlsVmFsdWUgPSBteUZvcm0uZWxlbWVudHMuZW1haWxcclxuXHRcdFx0bGV0IG1lc3NhZ2VWYWx1ZSA9IG15Rm9ybS5lbGVtZW50cy5tZXNzYWdlXHJcblx0XHRcdHNlbmRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImJsb2NrZWRcIilcclxuXHRcdFx0c2VuZEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHRuYW1lVmFsdWUudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHRlbWFpbFZhbHVlLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0bWVzc2FnZVZhbHVlLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0Y2xvc2VGb3JtKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=
